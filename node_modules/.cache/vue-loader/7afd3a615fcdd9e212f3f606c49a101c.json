{"remainingRequest":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\src\\views\\Reservations.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\src\\views\\Reservations.vue","mtime":1617789068380},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicKaW1wb3J0IHsgY2hlY2tMb2dnZWRJbiwgZ2V0QWxsLCBnZXRSZXNlcnZhdGlvbnMsIGRlbGV0ZVJlc2VydmF0aW9uIH0gZnJvbSAnQC9zZXJ2aWNlcy9hcGknCmltcG9ydCBMb2FkaW5nIGZyb20gJ0AvY29tcG9uZW50cy9Mb2FkaW5nLnZ1ZScKaW1wb3J0IEl0ZW1DYXJkIGZyb20gJ0AvY29tcG9uZW50cy9JdGVtQ2FyZC52dWUnCgpAQ29tcG9uZW50KHsKCWNvbXBvbmVudHM6IHsgTG9hZGluZywgSXRlbUNhcmQgfQp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNlcnZhdGlvbnMgZXh0ZW5kcyBWdWUgewoJcHVibGljIGxvYWRpbmc6IGJvb2xlYW4gPSBmYWxzZQoKCXB1YmxpYyBnZXQgcm9vbXMoKSB7CgkJcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnJvb21zIHx8IFtdCgl9CgoJcHVibGljIGdldCBjbGllbnRzKCkgewoJCXJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jbGllbnRzIHx8IFtdCgl9CgoJcHVibGljIGdldCBiaWxscygpIHsKCQlyZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYmlsbHMgfHwgW10KCX0KCglwdWJsaWMgZ2V0IHJlc2VydmF0aW9ucygpIHsKCQlyZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucmVzZXJ2YXRpb25zIHx8IFtdCgl9CgoJcHJpdmF0ZSBhc3luYyBjcmVhdGVkKCkgewoJCWlmIChjaGVja0xvZ2dlZEluKCkpIHsKCQkJdGhpcy5sb2FkaW5nID0gdHJ1ZQoJCQlhd2FpdCBnZXRBbGwoKQoJCQl0aGlzLmxvYWRpbmcgPSBmYWxzZQoJCX0KCX0KCglwdWJsaWMgY2xpZW50KHJlc2VydmF0aW9uKSB7CgkJcmV0dXJuIHRoaXMuY2xpZW50cy5maW5kKChjbGllbnQpID0+IGNsaWVudC5pZCA9PT0gcmVzZXJ2YXRpb24uY2xpZW50KSB8fCB7IG5hbWU6ICdObyBjbGllbnQnIH0KCX0KCglwdWJsaWMgYmlsbChyZXNlcnZhdGlvbikgewoJCXJldHVybiB0aGlzLnJvb21zLmZpbmQoKHJvb20pID0+IHJvb20uaWQgPT09IHJlc2VydmF0aW9uLnJvb20pCgl9CgoJcHVibGljIHJvb20ocmVzZXJ2YXRpb24pIHsKCQlyZXR1cm4gdGhpcy5iaWxscy5maW5kKChiaWxsKSA9PiBiaWxsLmlkID09PSByZXNlcnZhdGlvbi5iaWxsKQoJfQoKCXB1YmxpYyBlZGl0UmVzZXJ2YXRpb24ocmVzZXJ2YXRpb24pIHsKCQl0aGlzLiRyb3V0ZXIucHVzaChgL3Jlc2VydmF0aW9uLyR7cmVzZXJ2YXRpb24uaWR9YCkKCX0KCglwdWJsaWMgYXN5bmMgZGVsZXRlUmVzZXJ2YXRpb24ocmVzZXJ2YXRpb24pIHsKCQlhd2FpdCBkZWxldGVSZXNlcnZhdGlvbihyZXNlcnZhdGlvbi5pZCkKCQlhd2FpdCBnZXRSZXNlcnZhdGlvbnMoKQoJfQp9Cg=="},{"version":3,"sources":["Reservations.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Reservations.vue","sourceRoot":"src/views","sourcesContent":["<script lang=\"ts\">\r\n\timport { Component, Vue } from 'vue-property-decorator'\r\n\timport { checkLoggedIn, getAll, getReservations, deleteReservation } from '@/services/api'\r\n\timport Loading from '@/components/Loading.vue'\r\n\timport ItemCard from '@/components/ItemCard.vue'\r\n\r\n\t@Component({\r\n\t\tcomponents: { Loading, ItemCard }\r\n\t})\r\n\texport default class Reservations extends Vue {\r\n\t\tpublic loading: boolean = false\r\n\r\n\t\tpublic get rooms() {\r\n\t\t\treturn this.$store.state.rooms || []\r\n\t\t}\r\n\r\n\t\tpublic get clients() {\r\n\t\t\treturn this.$store.state.clients || []\r\n\t\t}\r\n\r\n\t\tpublic get bills() {\r\n\t\t\treturn this.$store.state.bills || []\r\n\t\t}\r\n\r\n\t\tpublic get reservations() {\r\n\t\t\treturn this.$store.state.reservations || []\r\n\t\t}\r\n\r\n\t\tprivate async created() {\r\n\t\t\tif (checkLoggedIn()) {\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\tawait getAll()\r\n\t\t\t\tthis.loading = false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic client(reservation) {\r\n\t\t\treturn this.clients.find((client) => client.id === reservation.client) || { name: 'No client' }\r\n\t\t}\r\n\r\n\t\tpublic bill(reservation) {\r\n\t\t\treturn this.rooms.find((room) => room.id === reservation.room)\r\n\t\t}\r\n\r\n\t\tpublic room(reservation) {\r\n\t\t\treturn this.bills.find((bill) => bill.id === reservation.bill)\r\n\t\t}\r\n\r\n\t\tpublic editReservation(reservation) {\r\n\t\t\tthis.$router.push(`/reservation/${reservation.id}`)\r\n\t\t}\r\n\r\n\t\tpublic async deleteReservation(reservation) {\r\n\t\t\tawait deleteReservation(reservation.id)\r\n\t\t\tawait getReservations()\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"container\">\r\n\t\t<h2>\r\n\t\t\t<div>Reservations</div>\r\n\t\t\t<router-link class=\"btn blue\" to=\"/reservation/new\">Create Reservation</router-link>\r\n\t\t</h2>\r\n\t\t<Loading v-if=\"loading\" />\r\n\t\t<div v-if=\"!loading\" class=\"reservations\">\r\n\t\t\t<ItemCard class=\"reservation card\" v-for=\"reservation in reservations\" :key=\"reservation.id\">\r\n\t\t\t\t<h3>{{ client(reservation).name }}: {{ reservation.start || 'No start' }} - {{ reservation.end || 'No end' }}</h3>\r\n\t\t\t\t<div class=\"id\">Booking ID: {{ reservation.id }}</div>\r\n\t\t\t\t<div class=\"start\">Start: {{ reservation.start || 'No start' }}</div>\r\n\t\t\t\t<div class=\"end\">End: {{ reservation.end || 'No end' }}</div>\r\n\t\t\t\t<div class=\"client\">Client: {{ reservation.client || 'No client' }}</div>\r\n\t\t\t\t<div class=\"room\">Room: {{ reservation.room || 'No room' }}</div>\r\n\t\t\t\t<div class=\"bill\">Bill: {{ reservation.bill || 'No bill' }}</div>\r\n\t\t\t\t<template v-slot:menu>\r\n\t\t\t\t\t<a @click=\"editReservation(reservation)\">Edit</a>\r\n\t\t\t\t\t<a @click=\"deleteReservation(reservation)\">Delete</a>\r\n\t\t\t\t</template>\r\n\t\t\t</ItemCard>\r\n\t\t</div>\r\n\t\t<div v-if=\"!reservations.length\">\r\n\t\t\t<p>There are no reservations</p>\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<router-link class=\"btn\" to=\"/\">Back</router-link> \r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\th2 {\r\n\t\tposition: relative;\r\n\t\ta {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tright: 0;\r\n\t\t}\r\n\t}\r\n</style>\r\n"]}]}