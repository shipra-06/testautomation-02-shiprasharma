{"remainingRequest":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\src\\views\\Clients.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\src\\views\\Clients.vue","mtime":1617789068378},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicKaW1wb3J0IHsgY2hlY2tMb2dnZWRJbiwgZ2V0Q2xpZW50cywgZGVsZXRlQ2xpZW50IH0gZnJvbSAnQC9zZXJ2aWNlcy9hcGknCmltcG9ydCBMb2FkaW5nIGZyb20gJ0AvY29tcG9uZW50cy9Mb2FkaW5nLnZ1ZScKaW1wb3J0IENsaWVudEljb24gZnJvbSAnQC9jb21wb25lbnRzL0NsaWVudEljb24udnVlJwppbXBvcnQgSXRlbUNhcmQgZnJvbSAnQC9jb21wb25lbnRzL0l0ZW1DYXJkLnZ1ZScKCkBDb21wb25lbnQoewoJY29tcG9uZW50czogeyBMb2FkaW5nLCBDbGllbnRJY29uLCBJdGVtQ2FyZCB9Cn0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsaWVudHMgZXh0ZW5kcyBWdWUgewoJcHVibGljIGxvYWRpbmc6IGJvb2xlYW4gPSBmYWxzZQoJcHVibGljIGdldCBjbGllbnRzKCkgewoJCXJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jbGllbnRzIHx8IFtdCgl9CgoJcHJpdmF0ZSBhc3luYyBjcmVhdGVkKCkgewoJCWlmIChjaGVja0xvZ2dlZEluKCkpIHsKCQkJdGhpcy5sb2FkaW5nID0gdHJ1ZQoJCQlhd2FpdCBnZXRDbGllbnRzKCkKCQkJdGhpcy5sb2FkaW5nID0gZmFsc2UKCQl9Cgl9CgoJcHVibGljIGVkaXRDbGllbnQoY2xpZW50KSB7CgkJdGhpcy4kcm91dGVyLnB1c2goYC9jbGllbnQvJHtjbGllbnQuaWR9YCkKCX0KCglwdWJsaWMgYXN5bmMgZGVsZXRlQ2xpZW50KGNsaWVudCkgewoJCWF3YWl0IGRlbGV0ZUNsaWVudChjbGllbnQuaWQpCgkJYXdhaXQgZ2V0Q2xpZW50cygpCgl9Cn0K"},{"version":3,"sources":["Clients.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Clients.vue","sourceRoot":"src/views","sourcesContent":["<script lang=\"ts\">\r\n\timport { Component, Vue } from 'vue-property-decorator'\r\n\timport { checkLoggedIn, getClients, deleteClient } from '@/services/api'\r\n\timport Loading from '@/components/Loading.vue'\r\n\timport ClientIcon from '@/components/ClientIcon.vue'\r\n\timport ItemCard from '@/components/ItemCard.vue'\r\n\r\n\t@Component({\r\n\t\tcomponents: { Loading, ClientIcon, ItemCard }\r\n\t})\r\n\texport default class Clients extends Vue {\r\n\t\tpublic loading: boolean = false\r\n\t\tpublic get clients() {\r\n\t\t\treturn this.$store.state.clients || []\r\n\t\t}\r\n\r\n\t\tprivate async created() {\r\n\t\t\tif (checkLoggedIn()) {\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\tawait getClients()\r\n\t\t\t\tthis.loading = false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic editClient(client) {\r\n\t\t\tthis.$router.push(`/client/${client.id}`)\r\n\t\t}\r\n\r\n\t\tpublic async deleteClient(client) {\r\n\t\t\tawait deleteClient(client.id)\r\n\t\t\tawait getClients()\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"container\">\r\n\t\t<h2>\r\n\t\t\t<div>Clients</div>\r\n\t\t\t<router-link class=\"btn blue\" to=\"/client/new\">Create Client</router-link>\r\n\t\t</h2>\r\n\t\t<Loading v-if=\"loading\" />\r\n\t\t<div v-if=\"!loading\" class=\"clients\">\r\n\t\t\t<ItemCard class=\"client\" v-for=\"client in clients\" :key=\"client.id\">\r\n\t\t\t\t<ClientIcon :client=\"client\" />\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h3>{{ client.name }} (#{{ client.id }})</h3>\r\n\t\t\t\t\t<div class=\"email\">Email: {{ client.email }}</div>\r\n\t\t\t\t\t<div class=\"telephone\">Telephone: {{ client.telephone }}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<template v-slot:menu>\r\n\t\t\t\t\t<a @click=\"editClient(client)\">Edit</a>\r\n\t\t\t\t\t<a @click=\"deleteClient(client)\">Delete</a>\r\n\t\t\t\t</template>\r\n\t\t\t</ItemCard>\r\n\t\t</div>\r\n\t\t<div v-if=\"!clients.length\">\r\n\t\t\t<p>There are no clients</p>\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<router-link class=\"btn\" to=\"/\">Back</router-link> \r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\th2 {\r\n\t\tposition: relative;\r\n\t\ta {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tright: 0;\r\n\t\t}\r\n\t}\r\n\t.client {\r\n\t\tdisplay: flex;\r\n\t}\r\n</style>\r\n"]}]}