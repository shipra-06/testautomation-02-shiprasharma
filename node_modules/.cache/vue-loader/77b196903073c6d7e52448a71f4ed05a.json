{"remainingRequest":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\src\\views\\Rooms.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\src\\views\\Rooms.vue","mtime":1617789068382},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicKaW1wb3J0IHsgY2hlY2tMb2dnZWRJbiwgZ2V0Um9vbXMsIGRlbGV0ZVJvb20gfSBmcm9tICdAL3NlcnZpY2VzL2FwaScKaW1wb3J0IExvYWRpbmcgZnJvbSAnQC9jb21wb25lbnRzL0xvYWRpbmcudnVlJwppbXBvcnQgSWNvbiBmcm9tICdAL2NvbXBvbmVudHMvSWNvbi52dWUnCmltcG9ydCBJdGVtQ2FyZCBmcm9tICdAL2NvbXBvbmVudHMvSXRlbUNhcmQudnVlJwoKQENvbXBvbmVudCh7Cgljb21wb25lbnRzOiB7IExvYWRpbmcsIEljb24sIEl0ZW1DYXJkIH0KfSkKZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm9vbXMgZXh0ZW5kcyBWdWUgewoJcHVibGljIGxvYWRpbmc6IGJvb2xlYW4gPSBmYWxzZQoKCXB1YmxpYyBnZXQgcm9vbXMoKSB7CgkJcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnJvb21zIHx8IFtdCgl9CgoJcHJpdmF0ZSBhc3luYyBjcmVhdGVkKCkgewoJCWlmIChjaGVja0xvZ2dlZEluKCkpIHsKCQkJdGhpcy5sb2FkaW5nID0gdHJ1ZQoJCQlhd2FpdCBnZXRSb29tcygpCgkJCXRoaXMubG9hZGluZyA9IGZhbHNlCgkJfQoJfQoKCXB1YmxpYyBmZWF0dXJlU3RyKGZlYXR1cmU6IHN0cmluZykgewoJCXJldHVybiBmZWF0dXJlLnNwbGl0KCdfJykuam9pbignICcpCgl9CgoJcHVibGljIGVkaXRSb29tKHJvb20pIHsKCQl0aGlzLiRyb3V0ZXIucHVzaChgL3Jvb20vJHtyb29tLmlkfWApCgl9CgoJcHVibGljIGFzeW5jIGRlbGV0ZVJvb20ocm9vbSkgewoJCWF3YWl0IGRlbGV0ZVJvb20ocm9vbS5pZCkKCQlhd2FpdCBnZXRSb29tcygpCgl9Cgp9Cg=="},{"version":3,"sources":["Rooms.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"Rooms.vue","sourceRoot":"src/views","sourcesContent":["<script lang=\"ts\">\r\n\timport { Component, Vue } from 'vue-property-decorator'\r\n\timport { checkLoggedIn, getRooms, deleteRoom } from '@/services/api'\r\n\timport Loading from '@/components/Loading.vue'\r\n\timport Icon from '@/components/Icon.vue'\r\n\timport ItemCard from '@/components/ItemCard.vue'\r\n\r\n\t@Component({\r\n\t\tcomponents: { Loading, Icon, ItemCard }\r\n\t})\r\n\texport default class Rooms extends Vue {\r\n\t\tpublic loading: boolean = false\r\n\r\n\t\tpublic get rooms() {\r\n\t\t\treturn this.$store.state.rooms || []\r\n\t\t}\r\n\r\n\t\tprivate async created() {\r\n\t\t\tif (checkLoggedIn()) {\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\tawait getRooms()\r\n\t\t\t\tthis.loading = false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic featureStr(feature: string) {\r\n\t\t\treturn feature.split('_').join(' ')\r\n\t\t}\r\n\r\n\t\tpublic editRoom(room) {\r\n\t\t\tthis.$router.push(`/room/${room.id}`)\r\n\t\t}\r\n\r\n\t\tpublic async deleteRoom(room) {\r\n\t\t\tawait deleteRoom(room.id)\r\n\t\t\tawait getRooms()\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"container\">\r\n\t\t<h2>\r\n\t\t\t<div>Rooms</div>\r\n\t\t\t<router-link class=\"btn blue\" to=\"/room/new\">Create Room</router-link>\r\n\t\t</h2>\r\n\t\t<Loading v-if=\"loading\" />\r\n\t\t<div v-if=\"!loading\" class=\"rooms\">\r\n\t\t\t<ItemCard class=\"room\" v-for=\"room in rooms\" :key=\"room.id\">\r\n\t\t\t\t<Icon :text=\"room.number\" />\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h3>Floor {{ room.floor }}, Room {{ room.number }}</h3>\r\n\t\t\t\t\t<div class=\"category\">Category: {{ room.category }}</div>\r\n\t\t\t\t\t<div class=\"available\">Available: {{ room.available }}</div>\r\n\t\t\t\t\t<div class=\"price\">Price: {{ room.price }}kr</div>\r\n\t\t\t\t\t<div class=\"features\">\r\n\t\t\t\t\t\tFeatures: \r\n\t\t\t\t\t\t<div class=\"feature\" v-for=\"(feature, i) in room.features\" :key=\"i\">\r\n\t\t\t\t\t\t\t{{ featureStr(feature) }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<template v-slot:menu>\r\n\t\t\t\t\t<a @click=\"editRoom(room)\">Edit</a>\r\n\t\t\t\t\t<a @click=\"deleteRoom(room)\">Delete</a>\r\n\t\t\t\t</template>\r\n\t\t\t</ItemCard>\r\n\t\t</div>\r\n\t\t<div v-if=\"!rooms.length\">\r\n\t\t\t<p>There are no rooms</p>\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<router-link class=\"btn\" to=\"/\">Back</router-link> \r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\th2 {\r\n\t\tposition: relative;\r\n\t\ta {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tright: 0;\r\n\t\t}\r\n\t}\r\n\t.room {\r\n\t\tdisplay: flex;\r\n\t\t.category {\r\n\t\t\ttext-transform: capitalize;\r\n\t\t}\r\n\t\t.features {\r\n\t\t\tmargin-bottom: -0.5rem;\r\n\t\t\t.feature {\r\n\t\t\t\ttext-transform: capitalize;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tpadding: 0.25rem 1rem;\r\n\t\t\t\tborder-radius: 1rem;\r\n\t\t\t\tbackground: #DDDDDD;\r\n\t\t\t\tmargin: 0 0.5rem 0.5rem 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n"]}]}