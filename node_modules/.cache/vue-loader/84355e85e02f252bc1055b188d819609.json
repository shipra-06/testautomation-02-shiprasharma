{"remainingRequest":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\src\\views\\Home.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\src\\views\\Home.vue","mtime":1617789068379},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\course\\02-pass-shiprasharma\\rasi10-hotel-test-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IENvbXBvbmVudCwgVnVlLCBXYXRjaCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InCmltcG9ydCB7IGNoZWNrTG9nZ2VkSW4sIGdldEFsbCB9IGZyb20gJ0Avc2VydmljZXMvYXBpJwppbXBvcnQgTG9hZGluZyBmcm9tICdAL2NvbXBvbmVudHMvTG9hZGluZy52dWUnCgpAQ29tcG9uZW50KHsKCWNvbXBvbmVudHM6IHsgTG9hZGluZyB9Cn0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvbWUgZXh0ZW5kcyBWdWUgewoKCXB1YmxpYyBsb2FkaW5nOiBib29sZWFuID0gZmFsc2UKCglwdWJsaWMgZ2V0IHJvb21zKCkgewoJCXJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5yb29tcwoJfQoKCXB1YmxpYyBnZXQgY2xpZW50cygpIHsKCQlyZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY2xpZW50cwoJfQoKCXB1YmxpYyBnZXQgYmlsbHMoKSB7CgkJcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmJpbGxzCgl9CgoJcHVibGljIGdldCByZXNlcnZhdGlvbnMoKSB7CgkJcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnJlc2VydmF0aW9ucwoJfQoKCXByaXZhdGUgYXN5bmMgY3JlYXRlZCgpIHsKCQlpZiAoY2hlY2tMb2dnZWRJbigpKSB7CgkJCXRoaXMubG9hZGluZyA9IHRydWUKCQkJYXdhaXQgZ2V0QWxsKCkKCQkJdGhpcy5sb2FkaW5nID0gZmFsc2UKCQl9Cgl9CgoJcHVibGljIGdldCBjdXJyZW50UmVzZXJ2YXRpb25zKCkgewoJCXJldHVybiB0aGlzLnJlc2VydmF0aW9ucy5maWx0ZXIoKHIpID0+IHsKCQkJY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShgJHtyLnN0YXJ0fVQxMjowMDowMGApCgkJCWNvbnN0IGVuZCA9IG5ldyBEYXRlKGAke3IuZW5kfVQxMjowMDowMGApCgkJCWNvbnN0IG5vdyA9IG5ldyBEYXRlKCkKCQkJcmV0dXJuIHN0YXJ0IDw9IG5vdyAmJiBlbmQgPj0gbm93CgkJfSkubGVuZ3RoCgl9CgoJcHVibGljIGdldCBwYWlkQmlsbHMoKSB7CgkJcmV0dXJuIHRoaXMuYmlsbHMuZmlsdGVyKChiKSA9PiBiLnBhaWQpCgl9CgoJcHVibGljIGdldCBiaWxsc1ZhbHVlKCkgewoJCXJldHVybiB0aGlzLmJpbGxzLm1hcCgoYikgPT4gYi52YWx1ZSkucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkKCX0KCglwdWJsaWMgZ2V0IHBhaWRCaWxsc1ZhbHVlKCkgewoJCXJldHVybiB0aGlzLnBhaWRCaWxscy5tYXAoKGIpID0+IGIudmFsdWUpLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApCgl9Cgp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<script lang=\"ts\">\r\n\timport { Component, Vue, Watch } from 'vue-property-decorator'\r\n\timport { checkLoggedIn, getAll } from '@/services/api'\r\n\timport Loading from '@/components/Loading.vue'\r\n\r\n\t@Component({\r\n\t\tcomponents: { Loading }\r\n\t})\r\n\texport default class Home extends Vue {\r\n\r\n\t\tpublic loading: boolean = false\r\n\r\n\t\tpublic get rooms() {\r\n\t\t\treturn this.$store.state.rooms\r\n\t\t}\r\n\r\n\t\tpublic get clients() {\r\n\t\t\treturn this.$store.state.clients\r\n\t\t}\r\n\r\n\t\tpublic get bills() {\r\n\t\t\treturn this.$store.state.bills\r\n\t\t}\r\n\r\n\t\tpublic get reservations() {\r\n\t\t\treturn this.$store.state.reservations\r\n\t\t}\r\n\r\n\t\tprivate async created() {\r\n\t\t\tif (checkLoggedIn()) {\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\tawait getAll()\r\n\t\t\t\tthis.loading = false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic get currentReservations() {\r\n\t\t\treturn this.reservations.filter((r) => {\r\n\t\t\t\tconst start = new Date(`${r.start}T12:00:00`)\r\n\t\t\t\tconst end = new Date(`${r.end}T12:00:00`)\r\n\t\t\t\tconst now = new Date()\r\n\t\t\t\treturn start <= now && end >= now\r\n\t\t\t}).length\r\n\t\t}\r\n\r\n\t\tpublic get paidBills() {\r\n\t\t\treturn this.bills.filter((b) => b.paid)\r\n\t\t}\r\n\r\n\t\tpublic get billsValue() {\r\n\t\t\treturn this.bills.map((b) => b.value).reduce((a, b) => a + b, 0)\r\n\t\t}\r\n\r\n\t\tpublic get paidBillsValue() {\r\n\t\t\treturn this.paidBills.map((b) => b.value).reduce((a, b) => a + b, 0)\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<template>\r\n\t<div class=\"container\">\r\n\t\t<h2>Tester Hotel Overview</h2>\r\n\t\t<Loading v-if=\"loading\" />\r\n\t\t<div v-if=\"!loading\" class=\"blocks\">\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<h4>Rooms</h4>\r\n\t\t\t\t<div>Number: {{ rooms.length }}</div>\r\n\t\t\t\t<router-link to=\"/rooms\" class=\"btn\">View</router-link>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<h4>Clients</h4>\r\n\t\t\t\t<div>Number: {{ clients.length }}</div>\r\n\t\t\t\t<router-link to=\"/clients\" class=\"btn\">View</router-link>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<h4>Bills</h4>\r\n\t\t\t\t<div>Total: {{ bills.length }} ({{ billsValue }}kr)</div>\r\n\t\t\t\t<div>Paid: {{ paidBills.length }} ({{ paidBillsValue }}kr)</div>\r\n\t\t\t\t<router-link to=\"/bills\" class=\"btn\">View</router-link>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<h4>Reservations</h4>\r\n\t\t\t\t<div>Total: {{ reservations.length }}</div>\r\n\t\t\t\t<div>Current: {{ currentReservations }}</div>\r\n\t\t\t\t<router-link to=\"/reservations\" class=\"btn\">View</router-link>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.blocks {\r\n\t\t\r\n\t\t.block {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tpadding: 2rem 0.5rem;\r\n\t\t\tbackground: #777777;\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t\twidth: 340px;\r\n\t\t\tmax-width: calc(100% - 6rem);\r\n\t\t\tvertical-align: top;\r\n\t\t\tmargin: 0 1rem 2rem;\r\n\r\n\t\t\th4 {\r\n\t\t\t\tmargin-top: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.btn {\r\n\t\t\t\tbackground: #FFFFFF;\r\n\t\t\t\tmargin-top: 2rem;\r\n\t\t\t\ttransition: box-shadow 0.2s ease-in-out;\r\n\t\t\t\t&:hover,\r\n\t\t\t\t&:focus {\r\n\t\t\t\t\tbox-shadow: 0px 3px 5px rgba(0, 0, 0, 0.35);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&:nth-child(1) { background: #AA3939; .btn { color: #AA3939 } }\r\n\t\t\t&:nth-child(2) { background: #AA6C39; .btn { color: #AA6C39 } }\r\n\t\t\t&:nth-child(3) { background: #226666; .btn { color: #226666 } }\r\n\t\t\t&:nth-child(4) { background: #2D882D; .btn { color: #2D882D } }\r\n\t\t}\r\n\t}\r\n</style>\r\n"]}]}